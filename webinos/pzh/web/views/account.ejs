<%

/*******************************************************************************
*  Code contributed to the webinos project
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
* 
*     http://www.apache.org/licenses/LICENSE-2.0
* 
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*
*******************************************************************************/

%>


<p>ID: <%= user.identifier %></p>
<p>Name: <%= user.displayName %></p>
<p>Email: <%= user.emails[0].value %></p>
<hr>
<p>Other OpenID attributes</p>
<table border="1">
<tr><th>Attributes</th><th>Value</th></tr>
<% for (var i in user) { %>
	<% if (i !== "identifier" && i !== "displayName" && i !== "emails" && i !== "from" && i !== "name" ) { %>
		<tr><td><%= i %></td><td><%= user[i] %>
		<% if (i === "image") { %>
			<img src="<%= user[i] %>"/>
		<% } %>
		</td></tr>
	<% } %>
<% } %>
</table>
<hr>

<% if (isMutualAuth && user) { %>

    <p>You have been authenticated by your webinos PZP device certificate AND your login identity</p>

<% } else if ((!isMutualAuth) && user) { %>

    <p>You have been authenticated by your login identity only.</p>

<% } %>
