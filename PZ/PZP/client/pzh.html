<html>
<head>
<title>PZH farm</title>
	<script type="text/javascript" src="/rpc.js"></script>
	<script type="text/javascript" src="/client/webinos_pzh.js"></script>
	<script type="text/javascript" src="/messaging.js"></script>

	<link rel="stylesheet" type="text/css" href="/client/jquery-ui-1.8.16.custom.css"/>
	<link rel="stylesheet" type="text/css" href="style.css" media="screen"/>
	<script type="text/javascript" src="/client/jquery.js"></script>
	<script type="text/javascript" src="/client/jquery-ui.js"></script>
	<script type="text/javascript">
            $(document).ready(function() {
            	$("#tabs").tabs();
            	 $('#startPZH').bind('click', function() {
			var config = 'country='+ document.getElementById('country').value + '\n' +
			'state='+ document.getElementById('state').value + '\n' +
			'city='+ document.getElementById('city').value + '\n' +
			'organization='+ document.getElementById('org').value + '\n' +
			'organizationUnit='+ document.getElementById('orgunit').value + '\n' +
			'common='+ document.getElementById('common').value + '\n' +
			'email='+ document.getElementById('email').value + '\n' +
			'days='+ document.getElementById('days').value + '\n';
			var payload = {status: 'startPZH', 
					servername: document.getElementById('servername').value, 
					serverport: document.getElementById('serverport').value, 
					httpserver: document.getElementById('httpport').value,
					value: config}; 
			var options = {type: 'prop', payload: payload};
			webinos.message_send(options);                	   
                    });
                  
		$('#connectPZH').bind('click', function() {
			var payload = {status: 'connectPZH', 
				servername: document.getElementById('pzh_ip_addr').value,
				serverport: document.getElementById('pzh_port').value}; 
			var options = {type: 'prop', payload: payload};
			webinos.message_send(options);
                 });
                 
		$('#downloadCert').bind('click', function() {
			var payload = {status: 'downloadCert', 
				servername: document.getElementById('pzh_ip_addr').value,
				serverport: document.getElementById('pzh_http_port').value}; 
			var options = {type: 'prop', payload: payload};
			webinos.message_send(options);
                 });
   	 });   		
	</script>
	 
</head>
<body>

<center> <div id="header"> <h1><img src="testbed_pzh_logo.png"></h1> </div> </center>
<div id = "tabs">
	<ul>
		<li> <a href="#pzh"> PZH </a> </li>
		<li> <a href="#connect_pzh"> Connect PZH </a> </li>
	</ul>
	<div id = "pzh" style="background-color:#0879a9">
	<center> <p style="color:white"> Multiple PZH can be initiated	</p> </center>
	<table style="background-color:lightgray; border:3px solid #0879a9" align="center">
		<tr><th>Config </th> <th> Value </th> </tr>
		<tr><td>Country </td><td><input type="text" id="country" value=""/></td></tr>
		<tr><td>State</td><td> <input type="text" id="state" value=""/></td></tr>
		<tr><td>City </td><td><input type="text" id="city" value=""/></td></tr>
		<tr><td>Org </td><td><input type="text" id="org" value="Webinos"/></td></tr>
		<tr><td>OrgUnit </td><td><input type="text" id="orgunit" value="WP4"/></td> </tr>
		<tr><td>Common</td><td> <input type="text" id="common" value="WebinosPZH" /> </td> </tr>
		<tr><td><i> (Info: This name should be different for each PZH)</i></td><td> </td></tr>
		<tr><td>Email </td><td><input type="text" id="email" value="internal@webinos.org"/></td></tr>
		<tr><td>Days</td><td> <input type="text" id="days" value="180"/></td>	</tr>
		<tr><td>Server Name </td><td><input type="text" id="servername" value="10.58.182.141"/></td></tr>
		<tr><td><i> (Info: This should be IP address on which PZH can be accessed via PZP) </i></td></tr>
		<tr><td>Server Port </td><td><input type="text" id="serverport" value="443"/></td></tr>
		<tr><td><i> (Info: If already this port is in use, next available port will be used)</i></td></tr>			
		<tr><td>HTTPS Server Port</td><td> <input type="text" id="httpport" value="8081"/></td></tr>
		<tr><td><i> (Info:PZH certificate is available to download at this address)</i></td></tr>
	</table>
		<center> <button id="startPZH" class="button">Start PZH </button> </center>
	</div>
	<div id = "connect_pzh" style="background-color:#0879a9">
		<center> <p style="color:white"></p> </center>
		<table style="background-color:lightgray; border:3px solid #0879a9" align="center">
			<tr> <td> PZH Address: </td> <td><input type="text" id="pzh_ip_addr" value="79.125.104.127"/></td></tr>
			<tr> <td> PZH Port: </td> <td><input type="text" id="pzh_http_port" value="8081"/></td></tr>
		</table>
			<center> <button id="downloadCert" class="button"> Download Certificate </button> </center>
		<table style="background-color:lightgray; border:3px solid #0879a9" align="center">
			<tr> <td> PZH Address: </td> <td><input type="text" id="pzh_ip_addr" value="79.125.104.127"/></td></tr>
			<tr> <td> PZH Port: </td> <td><input type="text" id="pzh_port" value="443"/></td></tr>
		</table>		
			<center> <button id="connectPZH" class="button"> Connect PZH </button> </center>

	</div>
</div>
<div id="status"> 
	STATUS: <span id="message"> </span>
</div>
</body>
</html>
